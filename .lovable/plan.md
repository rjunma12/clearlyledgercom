

# Comprehensive Bank Profile Expansion: India, Africa, US & Europe

## Current State Analysis

**Currently Registered (44 profiles):**

| Region | Banks | Count |
|--------|-------|-------|
| **US** | Chase, BoFA, Wells Fargo, Citibank, US Bank, Capital One | 6 |
| **UK** | Barclays, HSBC, Lloyds, NatWest | 4 |
| **Europe** | Santander, Deutsche Bank, BNP Paribas, Crédit Agricole, ING Netherlands, UBS | 6 |
| **India** | HDFC, ICICI, SBI, Axis, Kotak, PNB | 6 |
| **Australia** | CBA, ANZ, Westpac, NAB, ING, Macquarie, Bendigo | 7 |
| **Canada** | TD, RBC, BMO, Scotiabank | 4 |
| **Singapore** | DBS, OCBC, UOB | 3 |
| **Malaysia** | Maybank, CIMB | 2 |
| **China** | Bank of China | 1 |
| **UAE** | Emirates NBD, ADCB | 2 |
| **Africa** | Standard Bank (ZA) | 1 |
| **Global** | Standard Chartered, Generic | 2 |

---

## Proposed New Bank Profiles (56 Banks)

### India - Complete Coverage (14 New Banks)

| Bank | ID | SWIFT | Type | Notes |
|------|----|-------|------|-------|
| Bank of Baroda | bob-india | BARBINBB | PSU | 3rd largest PSU bank |
| Canara Bank | canara-india | CNRBINBB | PSU | Major PSU bank |
| Union Bank of India | unionbank-india | UBININBB | PSU | Large PSU network |
| Bank of India | boi-india | BABORIN | PSU | International presence |
| Indian Bank | indian-india | IDIBINBB | PSU | South India focus |
| Central Bank of India | centralbank-india | CBININBB | PSU | One of oldest |
| Indian Overseas Bank | iob-india | IABORIN | PSU | NRI banking |
| UCO Bank | uco-india | UCORINBB | PSU | Eastern India focus |
| Yes Bank | yes-india | YESBINBB | Private | Tech-forward bank |
| IDFC First Bank | idfc-india | IDFBINBB | Private | Merged bank |
| IndusInd Bank | indusind-india | INDBINBB | Private | Urban focus |
| Federal Bank | federal-india | FABORIN | Private | Kerala-based |
| South Indian Bank | sib-india | SIABORIN | Private | South India |
| Bandhan Bank | bandhan-india | BDBLININ | Private | Microfinance roots |

### Africa - Major Banks (12 New Banks)

| Bank | ID | SWIFT | Country | Notes |
|------|----|-------|---------|-------|
| **South Africa** |
| FirstRand/FNB | fnb-za | FIABORIN | ZA | 2nd largest SA bank |
| ABSA Bank | absa-za | ABSAZAJJ | ZA | Major retail bank |
| Nedbank | nedbank-za | NEDSZAJJ | ZA | 4th largest |
| Capitec Bank | capitec-za | CABORIN | ZA | Fastest growing |
| **Nigeria** |
| First Bank Nigeria | firstbank-ng | FBNINGLA | NG | Oldest Nigerian bank |
| Zenith Bank | zenith-ng | ZEABORIN | NG | Largest by assets |
| GTBank | gtbank-ng | GTABORIN | NG | Digital leader |
| Access Bank | access-ng | ABNGNGLA | NG | Major retail bank |
| **Kenya** |
| Equity Bank | equity-ke | EABORIN | KE | East Africa leader |
| KCB Bank | kcb-ke | KCBLKENA | KE | Regional bank |
| **Egypt** |
| National Bank of Egypt | nbe-eg | NBEGEGCX | EG | Oldest African bank |
| **Morocco** |
| Attijariwafa Bank | attijariwafa-ma | BCMAMAMC | MA | N. Africa leader |

### US - Additional Coverage (8 New Banks)

| Bank | ID | SWIFT | Notes |
|------|----|-------|-------|
| PNC Bank | pnc-us | PNCCUS33 | 6th largest |
| Truist Bank | truist-us | BRBTUS33 | BB&T + SunTrust merger |
| TD Bank (US) | tdbank-us | TABORIN | TD's US operations |
| Fifth Third Bank | fifththird-us | FTBCUS3C | Regional powerhouse |
| Ally Bank | ally-us | ALLYUS31 | Major online bank |
| Charles Schwab | schwab-us | SCHBUS33 | Brokerage + banking |
| Discover Bank | discover-us | DOABORUS | Credit card + banking |
| American Express | amex-us | ABORIN | Card statements |

### Europe - Comprehensive Coverage (22 New Banks)

| Bank | ID | SWIFT | Country | Notes |
|------|----|-------|---------|-------|
| **France** |
| Société Générale | socgen-france | SOGEFRPP | FR | 3rd largest French |
| La Banque Postale | labanquepostale-france | PSTFRPP | FR | Post office bank |
| **Germany** |
| Commerzbank | commerzbank-de | COBADEXX | DE | 2nd largest |
| Sparkasse | sparkasse-de | Various | DE | Savings banks group |
| DKB Bank | dkb-de | BYLADEM1 | DE | Direct bank |
| **UK** |
| Santander UK | santander-uk | ABBYGB2L | UK | Major retail bank |
| TSB Bank | tsb-uk | TSBSGB2A | UK | Retail bank |
| Monzo | monzo-uk | N/A | UK | Digital challenger |
| Revolut | revolut-uk | REVOGB21 | UK | Fintech leader |
| **Netherlands** |
| ABN AMRO | abnamro-nl | ABNANL2A | NL | 3rd largest Dutch |
| Rabobank | rabobank-nl | RABONL2U | NL | Cooperative bank |
| **Spain** |
| BBVA | bbva-es | BBVAESMM | ES | 2nd largest Spanish |
| CaixaBank | caixabank-es | CABORIN | ES | Largest by network |
| **Italy** |
| Intesa Sanpaolo | intesa-it | BCITITMM | IT | Largest Italian |
| UniCredit | unicredit-it | UNCRITMM | IT | International bank |
| **Belgium** |
| KBC Bank | kbc-be | KREDBEBB | BE | Largest Belgian |
| BNP Paribas Fortis | bnpfortis-be | GEBABEBB | BE | Major retail bank |
| **Austria** |
| Erste Bank | erste-at | GIBAATWW | AT | Largest Austrian |
| Raiffeisen Bank | raiffeisen-at | RABORIN | AT | Cooperative bank |
| **Portugal** |
| Millennium BCP | bcp-pt | BCOMPTPL | PT | Largest Portuguese |
| **Poland** |
| PKO Bank Polski | pko-pl | BPKOPLPW | PL | Largest Polish |
| mBank | mbank-pl | BREXPLPW | PL | Digital leader |

---

## Files to Create (56 New Files)

```
src/lib/ruleEngine/bankProfiles/profiles/
├── India (14 files)
│   ├── bob-india.ts         (Bank of Baroda)
│   ├── canara-india.ts
│   ├── unionbank-india.ts
│   ├── boi-india.ts         (Bank of India)
│   ├── indian-india.ts      (Indian Bank)
│   ├── centralbank-india.ts
│   ├── iob-india.ts
│   ├── uco-india.ts
│   ├── yes-india.ts
│   ├── idfc-india.ts
│   ├── indusind-india.ts
│   ├── federal-india.ts
│   ├── sib-india.ts
│   └── bandhan-india.ts
├── Africa (12 files)
│   ├── fnb-za.ts
│   ├── absa-za.ts
│   ├── nedbank-za.ts
│   ├── capitec-za.ts
│   ├── firstbank-ng.ts
│   ├── zenith-ng.ts
│   ├── gtbank-ng.ts
│   ├── access-ng.ts
│   ├── equity-ke.ts
│   ├── kcb-ke.ts
│   ├── nbe-eg.ts
│   └── attijariwafa-ma.ts
├── US (8 files)
│   ├── pnc-us.ts
│   ├── truist-us.ts
│   ├── tdbank-us.ts
│   ├── fifththird-us.ts
│   ├── ally-us.ts
│   ├── schwab-us.ts
│   ├── discover-us.ts
│   └── amex-us.ts
└── Europe (22 files)
    ├── socgen-france.ts
    ├── labanquepostale-france.ts
    ├── commerzbank-de.ts
    ├── sparkasse-de.ts
    ├── dkb-de.ts
    ├── santander-uk.ts
    ├── tsb-uk.ts
    ├── monzo-uk.ts
    ├── revolut-uk.ts
    ├── abnamro-nl.ts
    ├── rabobank-nl.ts
    ├── bbva-es.ts
    ├── caixabank-es.ts
    ├── intesa-it.ts
    ├── unicredit-it.ts
    ├── kbc-be.ts
    ├── bnpfortis-be.ts
    ├── erste-at.ts
    ├── raiffeisen-at.ts
    ├── bcp-pt.ts
    ├── pko-pl.ts
    └── mbank-pl.ts
```

---

## File to Modify

**`src/lib/ruleEngine/bankProfiles/index.ts`**

Add imports and register all 56 new profiles.

---

## Regional Configuration Details

### India - All Banks Use:
- **Currency**: ₹ (INR) prefix
- **Date Format**: DD/MM/YYYY or DD-MM-YYYY
- **Account Numbers**: 11-16 digits
- **Common Skip Patterns**: IFSC code, MICR code, CIF number, Statement of Account
- **Balance Patterns**: Opening/Closing Balance, B/F, C/F

### Africa - Regional Variations:
| Country | Currency | Date Format | Number Format |
|---------|----------|-------------|---------------|
| South Africa | R (ZAR) | DD/MM/YYYY | 1 000 000,00 |
| Nigeria | ₦ (NGN) | DD/MM/YYYY | 1,000,000.00 |
| Kenya | KSh (KES) | DD/MM/YYYY | 1,000,000.00 |
| Egypt | E£ (EGP) | DD/MM/YYYY | 1,000,000.00 |
| Morocco | DH (MAD) | DD/MM/YYYY | 1.000.000,00 |

### US - Standard Format:
- **Currency**: $ (USD) prefix
- **Date Format**: MM/DD/YYYY
- **Number Format**: 1,000,000.00
- **Routing Numbers**: 9 digits
- **Common Patterns**: Beginning/Ending Balance

### Europe - By Country:
| Country | Currency | Date Format | Decimal | Thousands |
|---------|----------|-------------|---------|-----------|
| France | € | DD/MM/YYYY | , | space |
| Germany | € | DD.MM.YYYY | , | . |
| UK | £ | DD/MM/YYYY | . | , |
| Netherlands | € | DD-MM-YYYY | , | . |
| Spain | € | DD/MM/YYYY | , | . |
| Italy | € | DD/MM/YYYY | , | . |
| Belgium | € | DD/MM/YYYY | , | . |
| Austria | € | DD.MM.YYYY | , | . |
| Portugal | € | DD/MM/YYYY | , | . |
| Poland | zł | DD.MM.YYYY | , | space |

---

## Sample Profile Implementations

### India: Bank of Baroda
```typescript
export const bobIndiaProfile: BankProfile = {
  id: 'bob-india',
  name: 'Bank of Baroda',
  region: 'IN',
  defaultLocale: 'en-IN',
  identification: {
    logoPatterns: ['BANK OF BARODA', 'BOB', 'bankofbaroda.in', 'Baroda'],
    accountPatterns: [/\b\d{14}\b/, /\b\d{4}\s*\d{4}\s*\d{4}\s*\d{2}\b/],
    uniqueIdentifiers: ['BARBINBB', 'BARB'],
    confidenceThreshold: 0.7,
  },
  columnConfig: {
    columnOrder: 'date-desc-debit-credit-balance',
    mergedDebitCredit: false,
    balancePosition: 'right',
    hasReferenceColumn: true,
  },
  specialRules: {
    dateFormatting: {
      dateFormats: ['DD-MM-YYYY', 'DD/MM/YYYY', 'DD-MMM-YYYY'],
      dateSeparator: '-',
      yearFormat: '4-digit',
    },
    amountFormatting: {
      currencySymbol: '₹',
      symbolPosition: 'prefix',
      negativeFormat: 'minus',
    },
    skipPatterns: [
      /^ifsc\s+code/i,
      /^micr\s+code/i,
      /^branch\s+code/i,
      /^cif\s+number/i,
      /^statement\s+of\s+account/i,
      /^page\s+\d+/i,
    ],
    openingBalancePatterns: [/^opening\s+balance/i, /^b\/f/i],
    closingBalancePatterns: [/^closing\s+balance/i, /^c\/f/i],
    multiLineDescriptions: true,
    maxDescriptionLines: 3,
  },
  version: '1.0.0',
  lastUpdated: '2025-02-07',
};
```

### Africa: FirstRand/FNB (South Africa)
```typescript
export const fnbZaProfile: BankProfile = {
  id: 'fnb-za',
  name: 'First National Bank',
  region: 'ZA',
  defaultLocale: 'en-GB',
  identification: {
    logoPatterns: ['FIRST NATIONAL BANK', 'FNB', 'fnb.co.za', 'FIRSTRAND'],
    accountPatterns: [/\b\d{10,11}\b/, /\b62\d{9}\b/],
    uniqueIdentifiers: ['FIRNZAJJ', 'FIRN'],
    confidenceThreshold: 0.7,
  },
  columnConfig: {
    columnOrder: 'date-desc-debit-credit-balance',
    mergedDebitCredit: false,
    balancePosition: 'right',
    hasReferenceColumn: true,
  },
  specialRules: {
    dateFormatting: {
      dateFormats: ['DD/MM/YYYY', 'YYYY/MM/DD', 'DD MMM YYYY'],
      dateSeparator: '/',
      yearFormat: '4-digit',
    },
    amountFormatting: {
      currencySymbol: 'R',
      symbolPosition: 'prefix',
      negativeFormat: 'minus',
    },
    skipPatterns: [
      /^account\s+number/i,
      /^branch\s+code/i,
      /^statement\s+period/i,
      /^swift\s+code/i,
    ],
    openingBalancePatterns: [/^opening\s+balance/i, /^balance\s+b\/f/i],
    closingBalancePatterns: [/^closing\s+balance/i, /^available\s+balance/i],
    multiLineDescriptions: true,
    maxDescriptionLines: 2,
  },
  version: '1.0.0',
  lastUpdated: '2025-02-07',
};
```

### Africa: Zenith Bank (Nigeria)
```typescript
export const zenithNgProfile: BankProfile = {
  id: 'zenith-ng',
  name: 'Zenith Bank',
  region: 'NG',
  defaultLocale: 'en-GB',
  identification: {
    logoPatterns: ['ZENITH BANK', 'zenithbank.com', 'ZENITH BANK PLC'],
    accountPatterns: [/\b\d{10}\b/],
    uniqueIdentifiers: ['ZEABORIN', 'ZEIB'],
    confidenceThreshold: 0.7,
  },
  columnConfig: {
    columnOrder: 'date-desc-debit-credit-balance',
    mergedDebitCredit: false,
    balancePosition: 'right',
    hasReferenceColumn: true,
  },
  specialRules: {
    dateFormatting: {
      dateFormats: ['DD/MM/YYYY', 'DD-MM-YYYY', 'DD MMM YYYY'],
      dateSeparator: '/',
      yearFormat: '4-digit',
    },
    amountFormatting: {
      currencySymbol: '₦',
      symbolPosition: 'prefix',
      negativeFormat: 'minus',
    },
    skipPatterns: [
      /^account\s+number/i,
      /^sort\s+code/i,
      /^statement\s+of\s+account/i,
      /^page\s+\d+/i,
    ],
    openingBalancePatterns: [/^opening\s+balance/i, /^brought\s+forward/i],
    closingBalancePatterns: [/^closing\s+balance/i, /^ledger\s+balance/i],
    multiLineDescriptions: true,
    maxDescriptionLines: 2,
  },
  version: '1.0.0',
  lastUpdated: '2025-02-07',
};
```

### Europe: BBVA (Spain)
```typescript
export const bbvaEsProfile: BankProfile = {
  id: 'bbva-es',
  name: 'BBVA',
  region: 'ES',
  defaultLocale: 'es-ES',
  identification: {
    logoPatterns: ['BBVA', 'Banco Bilbao Vizcaya', 'bbva.es'],
    accountPatterns: [/\bES\d{22}\b/, /\b\d{4}\s*\d{4}\s*\d{2}\s*\d{10}\b/],
    uniqueIdentifiers: ['BBVAESMM', 'BBVA'],
    confidenceThreshold: 0.7,
  },
  columnConfig: {
    columnOrder: 'date-desc-debit-credit-balance',
    mergedDebitCredit: false,
    balancePosition: 'right',
    hasReferenceColumn: false,
  },
  specialRules: {
    dateFormatting: {
      dateFormats: ['DD/MM/YYYY', 'DD-MM-YYYY'],
      dateSeparator: '/',
      yearFormat: '4-digit',
    },
    amountFormatting: {
      currencySymbol: '€',
      symbolPosition: 'suffix',
      negativeFormat: 'minus',
      numberFormat: {
        decimalSeparator: ',',
        thousandsSeparator: '.',
        currencySymbol: '€',
        currencyPosition: 'suffix',
      },
    },
    skipPatterns: [
      /^extracto\s+de\s+cuenta/i,
      /^iban/i,
      /^titular/i,
      /^página\s+\d+/i,
    ],
    openingBalancePatterns: [/^saldo\s+anterior/i, /^saldo\s+inicial/i],
    closingBalancePatterns: [/^saldo\s+actual/i, /^saldo\s+final/i],
    multiLineDescriptions: true,
    maxDescriptionLines: 2,
  },
  version: '1.0.0',
  lastUpdated: '2025-02-07',
};
```

### US: PNC Bank
```typescript
export const pncUsProfile: BankProfile = {
  id: 'pnc-us',
  name: 'PNC Bank',
  region: 'US',
  defaultLocale: 'en-US',
  identification: {
    logoPatterns: ['PNC BANK', 'PNC', 'pnc.com', 'PNC FINANCIAL'],
    accountPatterns: [/\b\d{10,13}\b/],
    uniqueIdentifiers: ['PNCCUS33', 'PNCC'],
    confidenceThreshold: 0.7,
  },
  columnConfig: {
    columnOrder: 'date-desc-amount-balance',
    mergedDebitCredit: true,
    debitIndicators: ['-', 'DR', 'Debit'],
    creditIndicators: ['+', 'CR', 'Credit'],
    balancePosition: 'right',
    hasReferenceColumn: false,
  },
  specialRules: {
    dateFormatting: {
      dateFormats: ['MM/DD/YYYY', 'MM-DD-YYYY', 'MMM DD, YYYY'],
      dateSeparator: '/',
      yearFormat: '4-digit',
    },
    amountFormatting: {
      currencySymbol: '$',
      symbolPosition: 'prefix',
      negativeFormat: 'minus',
    },
    skipPatterns: [
      /^account\s+number/i,
      /^routing\s+number/i,
      /^statement\s+period/i,
      /^page\s+\d+/i,
    ],
    openingBalancePatterns: [/^beginning\s+balance/i, /^previous\s+balance/i],
    closingBalancePatterns: [/^ending\s+balance/i, /^current\s+balance/i],
    multiLineDescriptions: true,
    maxDescriptionLines: 2,
  },
  version: '1.0.0',
  lastUpdated: '2025-02-07',
};
```

---

## Expected Improvements After Implementation

| Metric | Before | After | Improvement |
|--------|--------|-------|-------------|
| **Total Bank Profiles** | 44 | 100 | +127% |
| **India Coverage** | 6 banks | 20 banks | +233% (all major PSU + Private) |
| **Africa Coverage** | 1 bank | 13 banks | +1200% (5 countries) |
| **US Coverage** | 6 banks | 14 banks | +133% |
| **Europe Coverage** | 6 banks | 28 banks | +367% (12 countries) |
| **Countries Covered** | 12 | 20 | +67% |

---

## Technical Implementation Notes

1. **Profile Structure Consistency**: All profiles follow the `BankProfile` interface with required fields: `id`, `name`, `region`, `defaultLocale`, `identification`, `columnConfig`, `specialRules`, `version`, `lastUpdated`

2. **Locale Mapping**: Use appropriate locales (`en-IN`, `en-GB`, `en-US`, `de-DE`, `es-ES`, `fr-FR`, `it-IT`, `nl-NL`, `pl-PL`, `pt-PT`)

3. **Currency Handling**: Each profile specifies correct currency symbol and positioning per regional convention

4. **Date Formats**: Regional date formats are prioritized (e.g., DD.MM.YYYY for German banks, MM/DD/YYYY for US banks)

5. **Number Formats**: European banks use comma for decimal, US/UK/India use period

6. **Skip Patterns**: Include both English and local language patterns for bilingual statements

7. **No Database Changes**: All changes are frontend/rule engine only
